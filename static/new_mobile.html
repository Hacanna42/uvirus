<script async src="https://www.googletagmanager.com/gtag/js?id=UA-157462309-1%22%3E"></script>
<script>
	window.dataLayer = window.dataLayer || [];

	function gtag() {
		dataLayer.push(arguments);
	}
	gtag('js', new Date());
	gtag('config', 'UA-157462309-1');
</script>
<!DOCTYPE html>
<html lang="en">
	

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Coronavirus map</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" />
	<link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/moonspam/NanumSquare/master/nanumsquare.css" />

	<link rel="stylesheet" href="jquery-jvectormap-2.0.1.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="/static/css/adminlte.min.css" />
	<link rel="stylesheet" media="all" href="https://germini.info/js/jqvmap/src/jquery-jvectormap.css" />
	<link rel="apple-touch-icon" sizes="180x180" href="/static/favicon_io/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/static/favicon_io/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/static/favicon_io/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<script src="https://germini.info/js/jqvmap/src/jquery-1.8.2.js"></script>
	<script src="https://germini.info/js/jqvmap/src/jquery-jvectormap.js"></script>
	<script src="https://germini.info/js/jqvmap/src/jquery-mousewheel.js"></script>

	<script src="https://germini.info/js/jqvmap/src/jvectormap.js"></script>

	<script src="https://germini.info/js/jqvmap/src/abstract-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/abstract-canvas-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/abstract-shape-element.js"></script>

	<script src="https://germini.info/js/jqvmap/src/svg-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/svg-group-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/svg-canvas-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/svg-shape-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/svg-path-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/svg-circle-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/svg-image-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/svg-text-element.js"></script>

	<script src="https://germini.info/js/jqvmap/src/vml-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/vml-group-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/vml-canvas-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/vml-shape-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/vml-path-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/vml-circle-element.js"></script>
	<script src="https://germini.info/js/jqvmap/src/vml-image-element.js"></script>

	<script src="https://germini.info/js/jqvmap/src/map-object.js"></script>
	<script src="https://germini.info/js/jqvmap/src/region.js"></script>
	<script src="https://germini.info/js/jqvmap/src/marker.js"></script>

	<script src="https://germini.info/js/jqvmap/src/vector-canvas.js"></script>
	<script src="https://germini.info/js/jqvmap/src/simple-scale.js"></script>
	<script src="https://germini.info/js/jqvmap/src/ordinal-scale.js"></script>
	<script src="https://germini.info/js/jqvmap/src/numeric-scale.js"></script>
	<script src="https://germini.info/js/jqvmap/src/color-scale.js"></script>
	<script src="https://germini.info/js/jqvmap/src/legend.js"></script>
	<script src="https://germini.info/js/jqvmap/src/data-series.js"></script>
	<script src="https://germini.info/js/jqvmap/src/proj.js"></script>
	<script src="https://germini.info/js/jqvmap/src/map.js"></script>
	<script src="/static/js/map.js"></script>
	<script src="https://germini.info/js/jqvmap/src/jquery-jvectormap-world-mill-en.js"></script>
	<meta content="width=device-width, initial-scale=1" name="viewport" />
	<link rel="stylesheet" href="/static/css/newstyle.css" />
	<link rel="stylesheet" href="/static/css/fontawesome/css/all.css" />
</head>
<body>
	<div class="newnav">
		<div style='margin:0px; padding:0px; display:inline-block; height:50px; padding:5px;'>
			<button class="btn" style="height:40px; color:white;" onclick='navmntoggle()'>
				<i class="fas fa-bars"></i>
			</button>
		</div>
		<div style='padding:5px; display:inline-block; font-size:26px; height:50px; margin:0px; float:right;'>
			Coronavirus Map
		</div>
	</div>
	<div class="cont">
		<div class="navmn">
			<table class="table table-borderless" style='color:white;'>
				<tr>
					<th><a href="/">한국 맵</a></th>
				</tr>
				<tr>
					<th><a href="/world">국제 맵</a></th>
				</tr>
				<tr>
					<th><a href="https://vlioo.devent.kr/">중국 감염자 수 예측</a></th>
				</tr>
				<tr>
					<th><a href="http://www.mohw.go.kr/react/popup_200128.html">선별 진료소 현황</a></th>
				</tr>
				<tr>
					<th><a href="/about">세미콜론</a></th>
				</tr>
				<!--
				<li>
					<a href="/">한국 맵</a>
				</li>
				<li>
					<a href="/world">국제 맵</a>
				</li>
				<li>
					<a href="https://vlioo.devent.kr/">중국 감염자 수 예측</a>
				</li>
				<li>
					<a href="http://www.mohw.go.kr/react/popup_200128.html">선별 진료소 현황</a>
				</li>
				<li>
					<a href="/about">세미콜론</a>
				</li>-->
			</table>
		</div>
		<div class="firstcon">
			<div class="mapcont">
				<div id="map1" style="width: 100%; height: 100%;"></div>
				<script src="https://maps.googleapis.com/maps/api/js?region=KR&key=AIzaSyAc2h4PifzInktgpkftPNKuuDP-1lNzFvU&callback=initMap"></script>
			</div>
			<div id="searchbtn_map" class="btnsr">
				<p><button class="btn btn-success srbtns" onclick="setlocation_all()" id="searchbtn_all">전체</button></p>
				<p><button class="btn btn-danger srbtns" onclick="setlocation(0)" id="searchbtn0">교민</button></p>
			</div>
			<div onclick="togglen()">
				<button style='width:100%; border-color:transparent; background-color:#21243d; height:30px; color:white;'><i class="fas fa-chevron-up"></i></button>
				<div style='background: linear-gradient( to top, white, #21243d ); height:20px;'></div>
			</div>
			
			<style>
				.reflashbtn {
					display:inline-block;
					position:absolute;
					width:50px;
					height:50px;
					left:10px;
					bottom:100px;
					border-radius:25px;
					font-size:25px;
					padding:10px;
					padding-top:12px;
				}
			</style>
			<div class="reflashbtn btn btn-primary" onClick="window.location.reload()">
				<i class="fas fa-redo-alt"></i>
			</div>
		</div>
		
		<div class="seconcon">
			<div onclick="togglen()">
				<button style='width:100%; border-color:transparent; background-color:#21243d; height:30px; color:white;'><i class="fas fa-chevron-down"></i></button>
				<div style='background: linear-gradient( to top, white, #21243d ); height:20px;'></div>
			</div>
			<div style="height:calc(100% - 100px); background-color:white; overflow-y: scroll; color:black;" id="cont0" class="ccont contshow">
				<div style='text-align:center;'>
					<h1>
						한국자료
					</h1>
					<div class="">
						<h5>감염자</h5>
						<h2 class="num" id="krConfirmed">0</h2>
					</div>
					<br>
					<div class="">
						<h5>증상자</h5>
						<h2 class="num" id="krScan">0</h2>
					</div>
					<br>
					<div class="">
						<h5>사망자</h5>
						<h2 class="num" id="krdeath">0</h2>
					</div>
					<br>
					<div class="">
						<h5>치료자</h5>
						<h2 class="num" id="kdrecovery">0</h2>
					</div>
				</div>
				<hr size="10px" color="gray" width=100%>
				<div style='text-align:center;'>
					<h1>
						세계자료
					</h1>
					<div class="">
						<h5>감염자</h5>
						<h2 class="num" id="totalconfirmed">0</h2>
					</div>
					<br>
					<div class="">
						<h5>사망자</h5>
						<h2 class="num" id="totaldeath">0</h2>
					</div>
					<br>
					<div class="">
						<h5>치료자</h5>
						<h2 class="num" id="totalrecovered">0</h2>
					</div>
				</div>
			</div>
			<div style="height:calc(100% - 100px); background-color:white; overflow-y: scroll; color:black;" id="cont1" class="ccont">
				<div>
					<table id="confirmedcr" class="table">
						<tr>
							<th class="text-nowrap">나라</th>
							<th class="text-nowrap">감염자</th>
							<th class="text-nowrap">사망자</th>
							<th class="text-nowrap">치료자</th>
						</tr>
					</table>
				</div>
			</div>
			<div style="height:calc(100% - 100px); background-color:white; overflow-y: scroll;" id="cont2" class="ccont">
				<div id="newsshow">
					
				</div>
			</div>
			<div style="height:calc(100% - 100px); background-color:white; overflow-y: scroll;" id="cont3" class="ccont">
				<div id="infoshow" style="color:black; padding:5px;">
					<h4>
						코로나바이러스란?
					</h4>
					<div>
									코로나 바이러스는 광범위한 호흡기 및 소화기 감염을 일으키는 RNA 바이러스로 일반 감기, 중증급성호흡기증후군 및 중동호흡기증후군과 같은 질환을 유발할 수 있습니다. 코로나 바이러스의 전파 경로는 매우 다양합니다. 비단 감염자와의 밀접한 접촉이 없더라도 가벼운 일상 생활을 통해서 감염될 수도 있습니다.
					</div>
					<br>
					<h4>
						코로나바이러스 증상
					</h4>
					<div>
						- 발열, 식욕감퇴, 구역 및 구토, 암갈색 소변, 권태감, 식욕부진, 복부 불쾌감, 황달
						<br> - 6세 미만 소아에서 대부분 무증상(70%)
						<br> - 약 10%에게 황달이 발생
						<br> - 연령이 높아질수록 70%이상 황달이 동반되며 증상이 심해짐
						<br>
					</div>
					<br>
					<h4>
						감염 예방하기
					</h4>
					<div>
						<br> - 손 자주 씻으며 외출 자제
						<br> - 감기 증세나 구토, 열이 있을 경우 즉시 병원으로 갈 것
						<br> - 병원에서 약을 받아도 나아지지 않으면 큰 병원으로 갈 것
						<br> - 의심 증상이 나타나면, 즉시
						<strong>1339</strong>로 전화 할 것
						<br>
					</div>
				</div>
			</div>
			<div class="othermenu">
				<button id="mnbt0" onclick="mnbtck(0)" class="mnbtn btn selmenuf">요약정보</button>
				<button id="mnbt1" onclick="mnbtck(1)" class="mnbtn btn">세계정보</button>
				<button id="mnbt2" onclick="mnbtck(2)" class="mnbtn btn">관련뉴스</button>
				<button id="mnbt3" onclick="mnbtck(3)" class="mnbtn btn">관련정보</button>
				<script>
					var mnall=4;
					function mnbtck(num) {
						for(var f = 0; f<mnall; f++) {
							if(f==num) {
								$('#mnbt'+f).addClass('selmenuf');
								$('#cont'+f).addClass('contshow');
							} else {
								$('#mnbt'+f).removeClass('selmenuf');
								$('#cont'+f).removeClass('contshow');
							}
						}
					}
				</script>
			</div>
		</div>
	</div>
	
	<script>
		const firstcont = document.querySelector('.firstcon');
		const middlecont = document.querySelector('.middlecon');
		const seconcont = document.querySelector('.seconcon');
		const navmntg = document.querySelector('.navmn');
		seconcont.classList.add('closesecon');
		var toggleda=0;
		function togglen() {
			if(toggleda==0) {
				firstcont.classList.add('closefirst');
				seconcont.classList.remove('closesecon');
				toggleda=1;
			} else {
				firstcont.classList.remove('closefirst');
				seconcont.classList.add('closesecon');
				toggleda=0;
			}
		}
		
		var navtg=0;
		function navmntoggle() {
			if(navtg==0) {
				navtg=1;
				navmntg.classList.add('navmnopen');
			} else {
				navtg=0;
				navmntg.classList.remove('navmnopen');
			}
		}
		
		var chek=new Array();
		
		var deathct = 0;
		var confct = 0;
		var recct = 0;
		var krConfirmed = 0;
		var krScan = 0;
		jQuery(function() {
			var $ = jQuery;
			$.getJSON("/static/data/infectionData.json", function(data) {
				for (var i = 0; i < Object.keys(data.death).length; i++)
					deathct = deathct + data.death[Object.keys(data.death)[i]] * 1;
				for (var i = 0; i < Object.keys(data.infected).length; i++) {
					confct = confct + data.infected[Object.keys(data.infected)[i]] * 1;
					$('#confirmedcr').append("<tr><td>" + data.ctrs[Object.keys(data.ctrs)[i]] + "</td><td>" + data.infected[Object.keys(data.infected)[i]] * 1 + "</td><td>"+data.death[Object.keys(data.death)[i]] * 1+"</td><td>"+data.recoveries[Object.keys(data.recoveries)[i]] * 1 +"</td></tr>");
				}
				for (var i = 0; i < Object.keys(data.recoveries).length; i++) {
					recct = recct + data.recoveries[Object.keys(data.recoveries)[i]] * 1;
				}
				$('#totaldeath').text(deathct);
				$('#totalconfirmed').text(confct);
				$('#totalrecovered').text(recct);
				$('#krConfirmed').text(data.infected.KR);
				$('#krdeath').text(data.death.KR);
				$('#kdrecovery').text(data.recoveries.KR);
				//alert(data.infected["CN"]);
				$('#krinfo').text(data.recoveries)
				
			})
			$.getJSON("/static/data/news.json", function(data) {
				for (var i = 0; i < Object.keys(data.title).length; i++) {
					$('#newsshow').append('<a href="' + data.url[Object.keys(data.url)[i]] + '" target="_blank"><div class="media text-muted"><p class="card-body media-body pb-3 mb-0 small lh-125 border-bottom border-gray"><strong class="d-block" style="color:black;">@' + data.sor[Object.keys(data.sor)[i]] + '</strong><span style="color:black;">' + data.title[Object.keys(data.title)[i]] + '</span></div></a>');
				}
			})
			$.getJSON("/static/data/koreainfo.json", function(data) {
				for (var i = 0; i < Object.keys(data.koreainfo).length; i++) {
					$('#koreainfotable').append('<tr><td>' + Object.keys(data.koreainfo)[i] + '</td><td>' + data.koreainfo[Object.keys(data.koreainfo)[i]] + '</td></tr>');
				}
				$('#krScan').text(data.koreainfo.조사대상유증상자);
			})
			chek[0]=0;
			for (f=1; f<=all; f++) {
				chek[f]=0;
				$('#searchbtn_map').append('<p><button id="searchbtn'+f+'" class="searchbtns btn btn-danger btn-block srbtns" onclick="setlocation('+f+')">'+f+'</button></p>');
			}
		});
		
		function setlocation (num) {
			jQuery(function() {
				var $ = jQuery;
				//alert(num);
				if(chek[num]==0) {
					$('#searchbtn'+num).removeClass('btn-danger');
					$('#searchbtn'+num).addClass('btn-success');
					$('#searchbtn_all').removeClass('btn-success');
					$('#searchbtn_all').addClass('btn-danger');
					chek[num]=1;
				} else {
					$('#searchbtn'+num).removeClass('btn-success');
					$('#searchbtn'+num).addClass('btn-danger');
					chek[num]=0;
				}
				var f;
				for (f=0; f<route.length; f++) {
					marker[route[f].point1*1].setVisible(false);
					marker[route[f].point2*1].setVisible(false);
					flightPath[f].setVisible(false);
				}
				for (f=0; f<route.length; f++) {
					if(chek[route[f].person_num]==1) {
						marker[route[f].point1*1].setVisible(true);
						marker[route[f].point2*1].setVisible(true);
						flightPath[f].setVisible(true);
					}
				}
			});
		}
		
		function setlocation_all() {
			$('#searchbtn_all').removeClass('btn-danger');
			$('#searchbtn_all').addClass('btn-success');
			for (f=0; f<route.length; f++) {
				marker[route[f].point1*1].setVisible(true);
				marker[route[f].point2*1].setVisible(true);
				flightPath[f].setVisible(true);
			}
			for (f=0; f<=all; f++) {
				$('#searchbtn'+f).removeClass('btn-success');
				$('#searchbtn'+f).addClass('btn-danger');
				chek[f]=0;
			}
		}
	</script>
	<script type="text/javascript">
		var $ = jQuery;
		function load() {
			$("#loade").addClass("hide");
			setTimeout(function() { $("#loade").hide(); }, 1000);
		}
	</script>
</body>
</html>